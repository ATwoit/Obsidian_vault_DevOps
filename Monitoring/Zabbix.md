#### *Simple Network Management Protocol (SNMP)*

Сам сайт Zabbix - https://www.zabbix.com/

Подключение Zabbix к Telegram - https://github.com/zabbix/zabbix/tree/master/templates/media/telegram

Установка Zabbix - https://www.youtube.com/watch?v=GHaI6NHi6cw

Разница между агентами - https://www.zabbix.com/documentation/current/en/manual/appendix/agent_comparison

Настройка Zabbix - https://www.zabbix.com/documentation/5.2/ru/manual/config/hosts/host

Zabbix с нуля до короля) - https://www.youtube.com/watch?v=_NQTDra4Fds&list=PLdQohrQ3OmqS2wo9MwFKJtnXcVH5SCOh8

После установки не забудь про Firewall. Открой порты: 
```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw status
```


Это протокол прикладного уровня разработанный в 1988 году, он делает возможным обмен данными между сетевыми устройствами.

==Архитектура SNMP==
![[Screenshot 2024-07-05 154050.png]]

==Компоненты, составляющие архитектуру SNMP:==
- сетевая станция управления, включающая в себя сетевого менеджера;
- агенты;
- мастер-агенты;
- управляемые компоненты

==**Операции протокола SNMP**==

![[Screenshot 2024-07-05 154702.png]]

==Схема PDU==
![[Screenshot 2024-07-05 161557.png]]

==Применение==
Статусы ошибок и их описание.

- 0 — **noError —** Процесс завершен успешно.
- 1 — **tooBig —** Объект слишком большой и не помещается в сообщение Response.
- 2 — **noSuchName —** Для запросов GET и SET: запрошенная переменная не существует в базе MIB. Для запросов GETNEXT: переменная не имеет приемника в дереве MIB.
- 3 — **badValue** — Для запросов SET: сделана ошибка в синтаксисе или задано недопустимое значение.
- 4 — **readOnly —** Ошибка не определена.
- 5 — **genErr —** Прочие ошибки, например, попытка присвоить значение, превышающее пределы реализации.
#### *Комбинации моделей и уровней безопасности в SNMPv3*

![[Screenshot 2024-07-06 091246.png]]

#### *Панель Zabbix состоит вкладок :*

- **Dashboards** - предназначена для создания и управления информационными панелями (Dashboards), которые позволяют отображать информацию о состоянии системы мониторинга в удобном и наглядном виде.
- **Monitoring** - Тут можно смотреть добавленные узлы, создавать карту сети,  смотреть метрики которые собираются.
- **Services** - Функция мониторинга услуг предназначена для тех, кто хочет получить мониторинг инфраструктуры более высокого уровня.
- **Inventory** -  Вкладка для инвентаризации техники (компьютеры, коммутаторы, роутеры).
- **Reports** - предназначена для создания отчетов и аналитики по производительности и состоянию системы мониторинга.
- **Data collection** - предназначена для создания и настройки механизмов сбора данных. Здесь пользователи могут настраивать параметры сбора информации о производительности системы, использовании ресурсов, статусе различных узлов сети и многого другого.
- **Alerts** - используется для адмнистрирования оповещений, она предоставляет возможность настраивать параметры уведомлений и правила, связанные с ними.
- **Users** - используется для управления пользователями системы мониторинга. Здесь администраторы могут создавать новых пользователей, устанавливать их права доступа, настраивать оповещения и уведомления для каждого пользователя, устанавливать пароли и проводить другие административные действия.
- **Administration** - предназначена для выполнения различных административных задач, связанных с управлением системой мониторинга.
#### Добавление узла 

- **Host name** - Указываем имя узла, которое мы добавляем, оно будет отображаться только в Zabbix Server, например назовем его test-agent.
- **Templates** - Выбор шаблона.
- **Host groups** - Каждый узел который мы добавляем должен быть в определенной группе. Группу мы можем заранее создать в Data Collection - Host groups, либо с новыми версиями мы можем создать ее прям тут. В поле Host groups пишем имя группы,  назовём её Agents, как только написали снизу появляется параметр с именем вашей группы и препиской (new), это значит что группы еще нет и она будет создана.
- **Interfaces** - Мы добавляем наш узел, по SNMP, через Agent, либо JMX/IPMI. Мы выбираем Agent. Пишем ip адрес/dns имя агента и его порт(стандартный порт уже указан)
#### *Вот основные макросы, которые чаще всего используются и их описание:*

Вот основные макросы, которые чаще всего используются и их описание:
- **{HOST.NAME}**: Макрос, который используется для отображения имени хоста, на котором происходит алертинг.
- **{TRIGGER.NAME}**: Макрос, который используется для отображения имени триггера, который вызвал алертинг.
- **{ITEM.NAME}**: Макрос, который используется для отображения имени элемента, который вызвал алертинг.
- **{ITEM.KEY}**: Макрос, который используется для отображения ключа элемента, который вызвал алертинг.
- **{TRIGGER.STATUS}**: Макрос, который используется для отображения статуса триггера (PROBLEM или OK).
- **{TRIGGER.SEVERITY}**: Макрос, который используется для отображения уровня серьёзности проблемы (например, Information, Warning, Average, High, Disaster).
- **{EVENT.ID}**: Макрос, который используется для отображения уникального идентификатора события, вызвавшего алертинг.
- **{EVENT.DATE}**: Макрос, который используется для отображения даты и времени возникновения события, вызвавшего алертинг.